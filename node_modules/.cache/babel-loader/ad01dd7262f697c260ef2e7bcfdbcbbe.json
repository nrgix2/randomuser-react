{"ast":null,"code":"var _jsxFileName = \"/Users/antoinemousset/Ynov/React/firstcoursereact/src/App.js\";\nimport React, { useEffect, useState } from 'react';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from \"axios\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport about from \"./about\";\nimport About from \"./about\";\n\nconst ButtonPrimary = ({\n  onClick,\n  children\n}) => /*#__PURE__*/React.createElement(\"button\", {\n  className: \"btn btn-primary\",\n  onClick: onClick,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 5\n  }\n}, children);\n\nconst Header = ({\n  onFetchClick,\n  onSortClick\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"h1\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 9\n  }\n}, \"React app 2\"), /*#__PURE__*/React.createElement(ButtonPrimary, {\n  onClick: onFetchClick,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 9\n  }\n}, \"Fetch users\"), /*#__PURE__*/React.createElement(ButtonPrimary, {\n  onClick: onSortClick,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 9\n  }\n}, \"Trier l'age par ordre croissant\"), /*#__PURE__*/React.createElement(\"hr\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 9\n  }\n}));\n\nconst Table = ({\n  users\n}) => /*#__PURE__*/React.createElement(\"table\", {\n  className: \"table table-hover\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"thead\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 9\n  }\n}, /*#__PURE__*/React.createElement(\"tr\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 9\n  }\n}, /*#__PURE__*/React.createElement(\"th\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 13\n  }\n}, \"Photo\"), /*#__PURE__*/React.createElement(\"th\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 13\n  }\n}, \"Pr\\xE9nom - Nom\"), /*#__PURE__*/React.createElement(\"th\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 13\n  }\n}, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 13\n  }\n}, \"Tel\"), /*#__PURE__*/React.createElement(\"th\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 13\n  }\n}, \"Age\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }\n}, users.map(user => /*#__PURE__*/React.createElement(Row, {\n  user: user,\n  key: user.id,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 28\n  }\n}))));\n\nconst Row = ({\n  user\n}) => /*#__PURE__*/React.createElement(Router, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"tr\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }\n}, /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 13\n  }\n}, /*#__PURE__*/React.createElement(\"img\", {\n  src: user.picture,\n  alt: \"\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 17\n  }\n})), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 13\n  }\n}, /*#__PURE__*/React.createElement(Link, {\n  to: \"/infos\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 17\n  }\n}, user.firstName, \" \", user.lastName)), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 13\n  }\n}, user.email), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 13\n  }\n}, user.phone), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 13\n  }\n}, user.age), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 13\n  }\n}, \" \", /*#__PURE__*/React.createElement(Link, {\n  to: \"/about\",\n  component: About,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 18\n  }\n}, \"Click here\"), \" \")), /*#__PURE__*/React.createElement(Switch, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }\n}, /*#__PURE__*/React.createElement(Route, {\n  exact: true,\n  path: \"/infos\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 13\n  }\n}, /*#__PURE__*/React.createElement(Infos, {\n  user: user,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 17\n  }\n})), /*#__PURE__*/React.createElement(Route, {\n  path: \"/about\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 13\n  }\n}, /*#__PURE__*/React.createElement(\"about\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 17\n  }\n}))));\n\nfunction Infos({\n  user\n}) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 8\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 14\n    }\n  }, \"This is a \", user.gender), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 2\n    }\n  }, \"  Registered at \", user.register), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }\n  }, \" City: \", user.city, \" \"));\n}\n\nconst fetchUsers = async userCount => {\n  try {\n    const {\n      data: {\n        results\n      }\n    } = await axios.get('https://randomuser.me/api/?results=' + userCount);\n    return results.map(result => ({\n      id: result.login.uuid,\n      firstName: result.name.first,\n      lastName: result.name.last,\n      phone: result.phone,\n      email: result.email,\n      age: result.dob.age,\n      picture: result.picture.thumbnail,\n      gender: result.gender,\n      register: result.registered.date,\n      city: result.location.city\n    }));\n  } catch (e) {\n    console.error(e);\n    return [];\n  }\n};\n\nexport const App = () => {\n  const [users, setUsers] = useState([]);\n  const [num, setNum] = useState(0);\n  const [search, setSearch] = useState('');\n\n  const handleFetchClick = () => {\n    fetchUsers(10).then(newUsers => setUsers([...users, ...newUsers]));\n  };\n\n  const sortUsersOnClick = () => {\n    setUsers(users => [...users].sort(function (a, b) {\n      const textA = a.age;\n      const textB = b.age;\n      return textA < textB ? -1 : textA > textB ? 1 : 0;\n    }));\n  };\n\n  const filteredUser = users.filter(user => {\n    return user.firstName.toLowerCase().includes(search.toLowerCase()) || user.phone.toLowerCase().includes(search.toLowerCase()) || String(user.age) === search || user.lastName.toLowerCase().includes(search.toLowerCase());\n  });\n  useEffect(async () => {\n    fetchUsers(5).then(users => setUsers(users));\n  }, [num]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"app\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    onFetchClick: handleFetchClick,\n    onSortClick: sortUsersOnClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Rechercher\",\n    onChange: e => setSearch(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Table, {\n    users: filteredUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 17\n    }\n  })));\n};","map":{"version":3,"sources":["/Users/antoinemousset/Ynov/React/firstcoursereact/src/App.js"],"names":["React","useEffect","useState","axios","BrowserRouter","Router","Switch","Route","Link","about","About","ButtonPrimary","onClick","children","Header","onFetchClick","onSortClick","Table","users","map","user","id","Row","picture","firstName","lastName","email","phone","age","Infos","gender","register","city","fetchUsers","userCount","data","results","get","result","login","uuid","name","first","last","dob","thumbnail","registered","date","location","e","console","error","App","setUsers","num","setNum","search","setSearch","handleFetchClick","then","newUsers","sortUsersOnClick","sort","a","b","textA","textB","filteredUser","filter","toLowerCase","includes","String","target","value"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport axios from \"axios\";\nimport {\n    BrowserRouter as Router,\n        Switch,\n        Route,\n        Link\n} from \"react-router-dom\";\nimport about from \"./about\";\nimport About from \"./about\";\n\nconst ButtonPrimary = ({onClick, children}) => (\n    <button className=\"btn btn-primary\" onClick={onClick}>{children}</button>\n);\n\n\n\nconst Header = ({onFetchClick, onSortClick}) => (\n    <div>\n        <h1>React app 2</h1>\n        <ButtonPrimary onClick={onFetchClick}>Fetch users</ButtonPrimary>\n        <ButtonPrimary onClick={onSortClick}>Trier l'age par ordre croissant</ButtonPrimary>\n        <hr/>\n    </div>\n);\n\nconst Table = ({users}) => (\n    <table className=\"table table-hover\">\n        <thead>\n        <tr>\n            <th>Photo</th>\n            <th>Prénom - Nom</th>\n            <th>Email</th>\n            <th>Tel</th>\n            <th>Age</th>\n        </tr>\n        </thead>\n        <tbody>\n        {users.map(user => <Row user={user} key={user.id}/>)}\n        </tbody>\n    </table>\n);\n\nconst Row = ({user}) => (\n    <Router>\n        <tr>\n            {/* We use the var created in fetchUser and send in Table() function*/}\n            <td><img src={user.picture} alt=\"\"/></td>\n            <td><Link to=\"/infos\">{user.firstName} {user.lastName}</Link></td>\n            <td>{user.email}</td>\n            <td>{user.phone}</td>\n            <td>{user.age}</td>\n            <td> <Link to=\"/about\" component={About}>Click here</Link> </td>\n        </tr>\n\n        <Switch>\n            <Route exact path=\"/infos\">\n                <Infos user={user}/>\n\n            </Route>\n            <Route path=\"/about\">\n                <about />\n            </Route>\n\n        </Switch>\n    </Router>\n\n);\nfunction Infos ({user}) {\nreturn <div> <p>This is a {user.gender}</p>\n <p>  Registered at {user.register}</p>\n    <p> City: {user.city} </p>\n</div>\n\n\n\n\n}\n\nconst fetchUsers = async (userCount) => {\n    try {\n        const {data: {results}} = await axios.get('https://randomuser.me/api/?results=' + userCount)\n\n        return results.map(result => ({\n            id: result.login.uuid,\n            firstName: result.name.first,\n            lastName: result.name.last,\n            phone: result.phone,\n            email: result.email,\n            age: result.dob.age,\n            picture: result.picture.thumbnail,\n            gender: result.gender,\n            register: result.registered.date,\n            city: result.location.city,\n        }))\n    } catch (e) {\n        console.error(e);\n        return []\n    }\n\n};\n\nexport const App = () => {\n\n    const [users, setUsers] = useState([]);\n    const [num, setNum] = useState(0);\n    const [search, setSearch] = useState('');\n\n    const handleFetchClick = () => {\n        fetchUsers(10).then((newUsers) => setUsers([...users, ...newUsers]));\n    };\n\n    const sortUsersOnClick = () => {\n        setUsers(users => [...users].sort(function (a, b) {\n                const textA = a.age;\n                const textB = b.age;\n                return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;\n            })\n        )\n    }\n\n    const filteredUser = users.filter(user => {\n        return (\n            user.firstName.toLowerCase().includes(search.toLowerCase())\n            || user.phone.toLowerCase().includes(search.toLowerCase())\n            || String(user.age) === search\n            || user.lastName.toLowerCase().includes(search.toLowerCase())\n        )\n    });\n\n\n    useEffect(async () => {\n            fetchUsers(5).then(users => setUsers(users));\n        },\n        [num]);\n\n\n    return (\n\n\n\n        <div className=\"container-fluid\">\n            <div id=\"app\">\n                <Header onFetchClick={handleFetchClick}\n                        onSortClick={sortUsersOnClick}/>\n                <input type=\"text\" placeholder=\"Rechercher\" onChange={e => setSearch(e.target.value)}/>\n                <Table users={filteredUser}/>\n            </div>\n        </div>\n\n    )\n};\n\n"]},"metadata":{},"sourceType":"module"}